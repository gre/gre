<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="author" content="Gaëtan Renaudeau"/><meta name="description" content="Here is how you can design and export your 2D game map with Blender (both the logic and the graphics)."/><meta name="keywords" content="gamedev, blender, javascript"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@greweb"/><meta name="twitter:title" content="Blender as a 2D game level editor – Proof Of Concept"/><meta name="og:title" content="Blender as a 2D game level editor – Proof Of Concept"/><meta name="twitter:description" content="Here is how you can design and export your 2D game map with Blender (both the logic and the graphics)."/><meta name="twitter:creator" content="@greweb"/><meta name="og:image" content="http://greweb.me//images/2012/04/map1.png"/><meta name="twitter:image" content="http://greweb.me//images/2012/04/map1.png"/><link rel="image_src" href="http://greweb.me//images/2012/04/map1.png"/><title>@greweb - Blender as a 2D game level editor – Proof Of Concept</title><link href="http://fonts.googleapis.com/css?family=Fredericka+the+Great|Arapey|Roboto:400,700,400italic" rel="stylesheet" type="text/css"/><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/styles/default.min.css"/><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/highlight.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/javascript.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/cpp.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/glsl.min.js"></script><link rel="stylesheet" href="/style/main.css"/><meta name="next-head-count" content="25"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-381dbb3c33243b4920e6.js"></script><script src="/_next/static/chunks/webpack-17597d20e291f72b2439.js" defer=""></script><script src="/_next/static/chunks/framework-bdc1b4e5e48979e16d36.js" defer=""></script><script src="/_next/static/chunks/main-4ac108dd57980e4159e9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c981e0e3ce59f13eb8d0.js" defer=""></script><script src="/_next/static/chunks/5988-738c1ea5f97353b6463e.js" defer=""></script><script src="/_next/static/chunks/pages/%5Byear%5D/%5Bmonth%5D/%5Bslug%5D-b78f23c90ce5148ef413.js" defer=""></script><script src="/_next/static/9FP1wlKKilbAguG4c5-M2/_buildManifest.js" defer=""></script><script src="/_next/static/9FP1wlKKilbAguG4c5-M2/_ssgManifest.js" defer=""></script><style id="__jsx-2519965637">.block.jsx-2519965637{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.block.jsx-2519965637 .right.jsx-2519965637{padding:10px;}.block.jsx-2519965637 .social.jsx-2519965637{margin-top:10px;}.block.jsx-2519965637 .social.jsx-2519965637 a.jsx-2519965637{padding:10px;}.block.jsx-2519965637 .social.jsx-2519965637 img.jsx-2519965637{height:20px;}</style><style id="__jsx-3621368397">.container.jsx-3621368397{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style id="__jsx-3469673304">html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}*{box-sizing:border-box;}a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}a:hover,a:active{-webkit-text-decoration:underline;text-decoration:underline;}</style></head><body><div id="__next"><div class="jsx-3621368397 container"><div id="container"><div id="main"><div id="content"><article><header><h1><a href="/">Blender as a 2D game level editor – Proof Of Concept</a></h1><time class="date" dateTime="2012-04-09">2012-04-09</time><span class="tags"><a class="tag">gamedev</a><a class="tag">blender</a><a class="tag">javascript</a></span></header><div class="entry-content"><h1 id=""></h1>
<p>A long time ago, video games were only two-dimensional. Of-course this was due to our poor hardware capabilities, but when computers became faster and faster 3D games appeared in mass.<br><strong>Did it kill 2D games? Nope.</strong> They continue to exist because it offer a different gameplay and are easier to make. Maybe also a bit because we are nostalgic of old-school games!</p>
<p>We can distinguish two kinds of 2D games:</p>
<img src="/images/2012/04/bomberman93.jpg" alt="" class="thumbnail-left" />
[**Tile based games**][2] where the game world is simplified with a big grid – each grid position has some properties.  
A map editor is not always needed for tile based games, because the map can be straighforward to represent and maintain like in a *Bomberman* or in a *Pacman*. A simple editor is generally used to make graphism with sprites.

<br style="clear:both" />

<img src="/images/2012/04/woarpc001.jpg" alt="" class="thumbnail-left" />
**Non-tile based games**, which can be called “polygon based games” are more complex.  
In such game, like a *Worms* or a *Sonic*, it’s totally crazy to write the map by hand (objects positions, polygons coordinates, …). The alternative, is not to use predefined maps, but on-the-fly generated maps which doesn’t fit every games.

<br style="clear:both" />
  
<p><a href="http://higherorderfun.com/blog/2012/05/20/the-guide-to-implementing-2d-platformers/">Here are more detailed work on these different game designs</a>.</p>
<p><strong>Making the game engine</strong> is one thing, but <strong>designing the game levels</strong> can be one big work too and <strong>we need tools to make it easier</strong>.</p>
<!--more-->

<h2 id="tile-based-game-maps">Tile based game maps</h2>
<p>In tile based games, maps are usually quite simple to represent.</p>
<p>For instance, here is how we can code the maze of <a href="http://www.masswerk.at/JavaPac/JS-PacMan2.html">Pacman</a>:</p>
<pre><code class="language-javascript">[
  &quot;ahhhhhgxbhhdxehhhhhc&quot;,
  &quot;vp....o......o....pv&quot;,
  &quot;v.lhm...lhhm...lhm.v&quot;,
  &quot;v.....n......n.....v&quot;,
  &quot;v.n.n.v.ahhc.v.n.n.v&quot;,
  &quot;d.v.o.v.vxxq.v.o.v.b&quot;,
  &quot;x.v...v.vxxt.v...v.x&quot;,
  &quot;c.bhm.o.bhhr.o.lhd.a&quot;,
  &quot;v........x.........v&quot;,
  &quot;em.lc.am.lm.lc.am.lg&quot;,
  &quot;v...v.v......v.v...v&quot;,
  &quot;v.k.o.o.lhhm.o.o.k.v&quot;,
  &quot;vp................pv&quot;,
  &quot;bhhhhhcxahhcxahhhhhd&quot;,
];
</code></pre>
<p>where every character is a tile and has a given meaning.</p>
<p>For more complex games, we can also represent the map with a set of objects, and each object has position and size properties (x, y, width, height) and other properties for the game logic.</p>
<p>For instance, see the <em>ImpactJS</em> tile based games editor:</p>
<p><a href="http://impactjs.com/documentation/weltmeister"><img src="/images/2012/04/weltmeister-tutorial-entities.png" alt=""></a></p>
<h2 id="but-what-about-polygons-based-game">But what about polygons based game?</h2>
<p>Well, some have tried to make dedicated 2D game map editor like shown in this video:</p>
<iframe width="640" height="360" src="http://www.youtube.com/embed/kvvEmm2Vyoc?feature=player_embedded" frameborder="0" allowfullscreen></iframe>

<p>but it sounds a bit unfinished and specific.</p>
<h3 id="do-it-yourself-but-dont-reinvent-the-wheel">Do it yourself, but don’t reinvent the wheel.</h3>
<p><strong>But finally, isn’t it what a 3D editor is doing?</strong></p>
<p>Isn’t it the most generic tool we can find?</p>
<p>They have done a lot of awesome work in term of user interface, polygon modeling, textures (procedural / bitmap), …let’s profit of all this work to generate awesome texture map while exporting polygons.</p>
<p>Relying on such tools, you don’t have to learn a brand new map editor, you can relax on what you know if you have the chance to know Blender or Maya or anything.</p>
<h3 id="the-z-magic">The Z magic</h3>
<p>Let’s ignore the Z dimension, or rather, let’s <strong>use the Z-dimension as a way to represent the semantics of the game map!</strong></p>
<p>This is the map I made for <a href="http://gre.github.io/blazing-race">Blazing Race</a>, a HTML5 against-the-clock platform game where you control a fireball:</p>
<p><img src="/images/2012/04/zs.png" alt=""></p>
<p>For my game needs, I used <strong>different Z layers to represent different kind of materials and game objects</strong>:</p>
<ul>
<li>z=1 : candles’ position – the objective of the game is to light them all</li>
<li>z=0 : the game grounds – where collision occurs</li>
<li>z=-1 : the water areas – where your flame dies</li>
<li>z=-2 : special areas where you miss oxgyen – your flame dies in a few seconds</li>
</ul>
<p>But I also used <strong>objects ids</strong> as an another way to distinguish objects:<br>a “start” object to define the game start position and two “topleft” and “bottomright” objects to define the game bound.</p>
<h3 id="maintain-your-map-source-in-one-file">Maintain your map source in one file</h3>
<p>Another powerful feature of this, is you can maintain your map polygons AND your map textures in a single way. Use your 3D editor as a polygon editor and use its render engine to generate textures:</p>
<p><img src="/images/2012/04/map1.png" alt=""></p>
<p>Take benefits from what your 3D editor can do.</p>
<h3 id="export-polygons-to-the-javascript-game">Export polygons to the Javascript game</h3>
<p><img src="/images/2012/04/path4850.png" alt=""></p>
<p>I’ve made a transformer which take a COLLADA file in input (the most commonly supported standard format to describe a 3D scene, you can export it from any 3D editor like Blender, Maya, 3DS…) which extract and transform relevant informations from it and give you a json map for your game in output.</p>
<p><em>It was quite simple to implement, thanks to the Three.js COLLADA importer!</em></p>
<p>Here is the current (unfinished) interface for this:</p>
<p><a href="http://gre.github.io/blazing-race/maps/converter/"><img src="/images/2012/04/demo_screenshot.png" alt=""></a></p>
<p>As a proof of usability of the output JSON map, the preview was only made in a few lines of Javascript code.</p>
<p>Extract:</p>
<pre><code class="language-javascript">function draw(map) {
  var container = $(&quot;#viewport&quot;).empty();
  $(&quot;#legend&quot;).empty();
  a = 0;
  var w = 500;
  var h = Math.floor((w * map.height) / map.width);
  var CROSS_SIZE = 3;
  var canvas = $(&#39;&lt;canvas width=&quot;&#39; + w + &#39;&quot; height=&quot;&#39; + h + &#39;&quot;&gt;&lt;/canvas&gt;&#39;);
  var ctx = canvas[0].getContext(&quot;2d&quot;);
  for (var name in map) {
    var objs = map[name];
    if (objs[0] &amp;&amp; objs[0].faces) {
      var color = randomColor(70, 0.8);
      ctx.fillStyle = color;
      for (var i = 0; i &lt; objs.length; ++i) {
        var obj = objs[i];
        for (var f = 0; f &lt; obj.faces.length; ++f) {
          var face = obj.faces[f];
          ctx.beginPath();
          for (var v = 0; v &lt; face.length; ++v) {
            var vertice = obj.vertices[face[v]];
            var x = (ctx.canvas.width * vertice.x) / map.width;
            var y = ctx.canvas.height * (1 - vertice.y / map.height);
            if (v == 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.fill();
        }
      }
      addLegend(color, name, true);
    }
  }
  for (var name in map) {
    var objs = map[name];
    if (objs[0] &amp;&amp; objs[0].x) {
      var color = randomColor(50);
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      for (var i = 0; i &lt; objs.length; ++i) {
        var p = objs[i];
        var x = (ctx.canvas.width * p.x) / map.width;
        var y = ctx.canvas.height * (1 - p.y / map.height);
        ctx.beginPath();
        ctx.moveTo(x - CROSS_SIZE, y);
        ctx.lineTo(x + CROSS_SIZE, y);
        ctx.moveTo(x, y - CROSS_SIZE);
        ctx.lineTo(x, y + CROSS_SIZE);
        ctx.stroke();
      }
      addLegend(color, name, false);
    }
  }
  container.append(canvas);
}
</code></pre>
<h2 id="what-is-next">What is next?</h2>
<p>Blazing Race, is not finished yet, I need to improve a lot of things.</p>
<p>I’ll try to release a standalone version of this converter soon with tutorials and examples.</p>
</div><footer><div class="jsx-2519965637 block"><img src="http://greweb.me/logo.svg" width="100" class="jsx-2519965637"/><div class="jsx-2519965637 right"><div class="jsx-2519965637 description">generative artist. doodling with algorithms (creative coding). shaders &amp; fountain pens robot plotting.</div><div class="jsx-2519965637 social"><a href="https://twitter.com/greweb" class="jsx-2519965637"><img alt="" src="/icons/twitter.svg" class="jsx-2519965637"/></a><a href="https://instagram.com/greweb" class="jsx-2519965637"><img alt="" src="/icons/instagram.svg" class="jsx-2519965637"/></a><a href="https://twitch.tv/greweb" class="jsx-2519965637"><img alt="" src="/icons/twitch.svg" class="jsx-2519965637"/></a><a href="https://github.com/gre" class="jsx-2519965637"><img alt="" src="/icons/github.svg" class="jsx-2519965637"/></a><a href="https://opensea.io/greweb" class="jsx-2519965637"><img alt="" src="/icons/eth.svg" class="jsx-2519965637"/></a><a href="https://objkt.com/profile/tz1cgQAQfECg5bPASYTMyJ9QJQjSUi8rfL67" class="jsx-2519965637"><img alt="" src="/icons/tz.svg" class="jsx-2519965637"/></a><a href="https://fxhash.xyz/u/greweb" class="jsx-2519965637"><img alt="" src="/icons/tz.svg" class="jsx-2519965637"/></a><a href="https://greweb.itch.io" class="jsx-2519965637"><img alt="" src="/icons/iconmonstr-gamepad-3.svg" class="jsx-2519965637"/></a></div></div></div></footer></article></div></div></div><script>hljs.highlightAll();</script></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"2012-04-09-blender-as-a-2d-game-map-editor-proof-of-concept","year":"2012","month":"04","day":"09","slug":"blender-as-a-2d-game-map-editor-proof-of-concept","content":"\u003ch1 id=\"\"\u003e\u003c/h1\u003e\n\u003cp\u003eA long time ago, video games were only two-dimensional. Of-course this was due to our poor hardware capabilities, but when computers became faster and faster 3D games appeared in mass.\u003cbr\u003e\u003cstrong\u003eDid it kill 2D games? Nope.\u003c/strong\u003e They continue to exist because it offer a different gameplay and are easier to make. Maybe also a bit because we are nostalgic of old-school games!\u003c/p\u003e\n\u003cp\u003eWe can distinguish two kinds of 2D games:\u003c/p\u003e\n\u003cimg src=\"/images/2012/04/bomberman93.jpg\" alt=\"\" class=\"thumbnail-left\" /\u003e\n[**Tile based games**][2] where the game world is simplified with a big grid – each grid position has some properties.  \nA map editor is not always needed for tile based games, because the map can be straighforward to represent and maintain like in a *Bomberman* or in a *Pacman*. A simple editor is generally used to make graphism with sprites.\n\n\u003cbr style=\"clear:both\" /\u003e\n\n\u003cimg src=\"/images/2012/04/woarpc001.jpg\" alt=\"\" class=\"thumbnail-left\" /\u003e\n**Non-tile based games**, which can be called “polygon based games” are more complex.  \nIn such game, like a *Worms* or a *Sonic*, it’s totally crazy to write the map by hand (objects positions, polygons coordinates, …). The alternative, is not to use predefined maps, but on-the-fly generated maps which doesn’t fit every games.\n\n\u003cbr style=\"clear:both\" /\u003e\n  \n\u003cp\u003e\u003ca href=\"http://higherorderfun.com/blog/2012/05/20/the-guide-to-implementing-2d-platformers/\"\u003eHere are more detailed work on these different game designs\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eMaking the game engine\u003c/strong\u003e is one thing, but \u003cstrong\u003edesigning the game levels\u003c/strong\u003e can be one big work too and \u003cstrong\u003ewe need tools to make it easier\u003c/strong\u003e.\u003c/p\u003e\n\u003c!--more--\u003e\n\n\u003ch2 id=\"tile-based-game-maps\"\u003eTile based game maps\u003c/h2\u003e\n\u003cp\u003eIn tile based games, maps are usually quite simple to represent.\u003c/p\u003e\n\u003cp\u003eFor instance, here is how we can code the maze of \u003ca href=\"http://www.masswerk.at/JavaPac/JS-PacMan2.html\"\u003ePacman\u003c/a\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e[\n  \u0026quot;ahhhhhgxbhhdxehhhhhc\u0026quot;,\n  \u0026quot;vp....o......o....pv\u0026quot;,\n  \u0026quot;v.lhm...lhhm...lhm.v\u0026quot;,\n  \u0026quot;v.....n......n.....v\u0026quot;,\n  \u0026quot;v.n.n.v.ahhc.v.n.n.v\u0026quot;,\n  \u0026quot;d.v.o.v.vxxq.v.o.v.b\u0026quot;,\n  \u0026quot;x.v...v.vxxt.v...v.x\u0026quot;,\n  \u0026quot;c.bhm.o.bhhr.o.lhd.a\u0026quot;,\n  \u0026quot;v........x.........v\u0026quot;,\n  \u0026quot;em.lc.am.lm.lc.am.lg\u0026quot;,\n  \u0026quot;v...v.v......v.v...v\u0026quot;,\n  \u0026quot;v.k.o.o.lhhm.o.o.k.v\u0026quot;,\n  \u0026quot;vp................pv\u0026quot;,\n  \u0026quot;bhhhhhcxahhcxahhhhhd\u0026quot;,\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewhere every character is a tile and has a given meaning.\u003c/p\u003e\n\u003cp\u003eFor more complex games, we can also represent the map with a set of objects, and each object has position and size properties (x, y, width, height) and other properties for the game logic.\u003c/p\u003e\n\u003cp\u003eFor instance, see the \u003cem\u003eImpactJS\u003c/em\u003e tile based games editor:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://impactjs.com/documentation/weltmeister\"\u003e\u003cimg src=\"/images/2012/04/weltmeister-tutorial-entities.png\" alt=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"but-what-about-polygons-based-game\"\u003eBut what about polygons based game?\u003c/h2\u003e\n\u003cp\u003eWell, some have tried to make dedicated 2D game map editor like shown in this video:\u003c/p\u003e\n\u003ciframe width=\"640\" height=\"360\" src=\"http://www.youtube.com/embed/kvvEmm2Vyoc?feature=player_embedded\" frameborder=\"0\" allowfullscreen\u003e\u003c/iframe\u003e\n\n\u003cp\u003ebut it sounds a bit unfinished and specific.\u003c/p\u003e\n\u003ch3 id=\"do-it-yourself-but-dont-reinvent-the-wheel\"\u003eDo it yourself, but don’t reinvent the wheel.\u003c/h3\u003e\n\u003cp\u003e\u003cstrong\u003eBut finally, isn’t it what a 3D editor is doing?\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eIsn’t it the most generic tool we can find?\u003c/p\u003e\n\u003cp\u003eThey have done a lot of awesome work in term of user interface, polygon modeling, textures (procedural / bitmap), …let’s profit of all this work to generate awesome texture map while exporting polygons.\u003c/p\u003e\n\u003cp\u003eRelying on such tools, you don’t have to learn a brand new map editor, you can relax on what you know if you have the chance to know Blender or Maya or anything.\u003c/p\u003e\n\u003ch3 id=\"the-z-magic\"\u003eThe Z magic\u003c/h3\u003e\n\u003cp\u003eLet’s ignore the Z dimension, or rather, let’s \u003cstrong\u003euse the Z-dimension as a way to represent the semantics of the game map!\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThis is the map I made for \u003ca href=\"http://gre.github.io/blazing-race\"\u003eBlazing Race\u003c/a\u003e, a HTML5 against-the-clock platform game where you control a fireball:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/2012/04/zs.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eFor my game needs, I used \u003cstrong\u003edifferent Z layers to represent different kind of materials and game objects\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ez=1 : candles’ position – the objective of the game is to light them all\u003c/li\u003e\n\u003cli\u003ez=0 : the game grounds – where collision occurs\u003c/li\u003e\n\u003cli\u003ez=-1 : the water areas – where your flame dies\u003c/li\u003e\n\u003cli\u003ez=-2 : special areas where you miss oxgyen – your flame dies in a few seconds\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBut I also used \u003cstrong\u003eobjects ids\u003c/strong\u003e as an another way to distinguish objects:\u003cbr\u003ea “start” object to define the game start position and two “topleft” and “bottomright” objects to define the game bound.\u003c/p\u003e\n\u003ch3 id=\"maintain-your-map-source-in-one-file\"\u003eMaintain your map source in one file\u003c/h3\u003e\n\u003cp\u003eAnother powerful feature of this, is you can maintain your map polygons AND your map textures in a single way. Use your 3D editor as a polygon editor and use its render engine to generate textures:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/2012/04/map1.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eTake benefits from what your 3D editor can do.\u003c/p\u003e\n\u003ch3 id=\"export-polygons-to-the-javascript-game\"\u003eExport polygons to the Javascript game\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"/images/2012/04/path4850.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eI’ve made a transformer which take a COLLADA file in input (the most commonly supported standard format to describe a 3D scene, you can export it from any 3D editor like Blender, Maya, 3DS…) which extract and transform relevant informations from it and give you a json map for your game in output.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eIt was quite simple to implement, thanks to the Three.js COLLADA importer!\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eHere is the current (unfinished) interface for this:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://gre.github.io/blazing-race/maps/converter/\"\u003e\u003cimg src=\"/images/2012/04/demo_screenshot.png\" alt=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAs a proof of usability of the output JSON map, the preview was only made in a few lines of Javascript code.\u003c/p\u003e\n\u003cp\u003eExtract:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003efunction draw(map) {\n  var container = $(\u0026quot;#viewport\u0026quot;).empty();\n  $(\u0026quot;#legend\u0026quot;).empty();\n  a = 0;\n  var w = 500;\n  var h = Math.floor((w * map.height) / map.width);\n  var CROSS_SIZE = 3;\n  var canvas = $(\u0026#39;\u0026lt;canvas width=\u0026quot;\u0026#39; + w + \u0026#39;\u0026quot; height=\u0026quot;\u0026#39; + h + \u0026#39;\u0026quot;\u0026gt;\u0026lt;/canvas\u0026gt;\u0026#39;);\n  var ctx = canvas[0].getContext(\u0026quot;2d\u0026quot;);\n  for (var name in map) {\n    var objs = map[name];\n    if (objs[0] \u0026amp;\u0026amp; objs[0].faces) {\n      var color = randomColor(70, 0.8);\n      ctx.fillStyle = color;\n      for (var i = 0; i \u0026lt; objs.length; ++i) {\n        var obj = objs[i];\n        for (var f = 0; f \u0026lt; obj.faces.length; ++f) {\n          var face = obj.faces[f];\n          ctx.beginPath();\n          for (var v = 0; v \u0026lt; face.length; ++v) {\n            var vertice = obj.vertices[face[v]];\n            var x = (ctx.canvas.width * vertice.x) / map.width;\n            var y = ctx.canvas.height * (1 - vertice.y / map.height);\n            if (v == 0) ctx.moveTo(x, y);\n            else ctx.lineTo(x, y);\n          }\n          ctx.fill();\n        }\n      }\n      addLegend(color, name, true);\n    }\n  }\n  for (var name in map) {\n    var objs = map[name];\n    if (objs[0] \u0026amp;\u0026amp; objs[0].x) {\n      var color = randomColor(50);\n      ctx.strokeStyle = color;\n      ctx.lineWidth = 2;\n      for (var i = 0; i \u0026lt; objs.length; ++i) {\n        var p = objs[i];\n        var x = (ctx.canvas.width * p.x) / map.width;\n        var y = ctx.canvas.height * (1 - p.y / map.height);\n        ctx.beginPath();\n        ctx.moveTo(x - CROSS_SIZE, y);\n        ctx.lineTo(x + CROSS_SIZE, y);\n        ctx.moveTo(x, y - CROSS_SIZE);\n        ctx.lineTo(x, y + CROSS_SIZE);\n        ctx.stroke();\n      }\n      addLegend(color, name, false);\n    }\n  }\n  container.append(canvas);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"what-is-next\"\u003eWhat is next?\u003c/h2\u003e\n\u003cp\u003eBlazing Race, is not finished yet, I need to improve a lot of things.\u003c/p\u003e\n\u003cp\u003eI’ll try to release a standalone version of this converter soon with tutorials and examples.\u003c/p\u003e\n","data":{"title":"Blender as a 2D game level editor – Proof Of Concept","description":"Here is how you can design and export your 2D game map with Blender (both the logic and the graphics).","thumbnail":"/images/2012/04/map1.png","author":"Gaetan","layout":"post","permalink":"/2012/04/blender-as-a-2d-game-map-editor-proof-of-concept/","tags":["gamedev","blender","javascript"]}},"__N_SSG":true},"page":"/[year]/[month]/[slug]","query":{"year":"2012","month":"04","slug":"blender-as-a-2d-game-map-editor-proof-of-concept"},"buildId":"9FP1wlKKilbAguG4c5-M2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>
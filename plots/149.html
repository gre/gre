<!DOCTYPE html><html><head><meta charSet="utf-8"/><title class="jsx-2890188041">greweb.me – Plot #149  – Chaotic Inner</title><link rel="icon" href="/favicon.ico" class="jsx-2890188041"/><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-2890188041"/><meta name="author" content="Gaëtan Renaudeau" class="jsx-2890188041"/><meta name="description" content="A chaotic experiment of parametric function meeting perlin noise. Brush pen with &#x27;Bloody Brexit&#x27; ink on Bristol paper." class="jsx-2890188041"/><meta name="keywords" content="perlin, parametric" class="jsx-2890188041"/><meta name="twitter:card" content="summary_large_image" class="jsx-2890188041"/><meta name="twitter:site" content="@greweb" class="jsx-2890188041"/><meta name="twitter:title" content="Plot #149  – Chaotic Inner" class="jsx-2890188041"/><meta name="twitter:description" content="A chaotic experiment of parametric function meeting perlin noise. Brush pen with &#x27;Bloody Brexit&#x27; ink on Bristol paper." class="jsx-2890188041"/><meta name="twitter:creator" content="@greweb" class="jsx-2890188041"/><meta name="twitter:image" content="http://greweb.me/images/plots/149.jpg" class="jsx-2890188041"/><link rel="image_src" href="http://greweb.me/images/plots/149.jpg" class="jsx-2890188041"/><meta property="og:image" content="http://greweb.me/images/plots/149.jpg" class="jsx-2890188041"/><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/styles/default.min.css"/><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/highlight.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/javascript.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/cpp.min.js"></script><script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.2/languages/glsl.min.js"></script><meta name="next-head-count" content="20"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-682ed58dee9e3e5c50ef.js" defer=""></script><script src="/_next/static/chunks/framework-c93ed74a065331c4bd75.js" defer=""></script><script src="/_next/static/chunks/main-005750ed97c879f2d59b.js" defer=""></script><script src="/_next/static/chunks/pages/_app-092526a60f8cb7d1b3d6.js" defer=""></script><script src="/_next/static/chunks/988-83f401159b53b3fa4628.js" defer=""></script><script src="/_next/static/chunks/pages/plots/%5Bn%5D-61db26c240f782abb3de.js" defer=""></script><script src="/_next/static/DFS_PwF7c_29U8d0kq5L9/_buildManifest.js" defer=""></script><script src="/_next/static/DFS_PwF7c_29U8d0kq5L9/_ssgManifest.js" defer=""></script><style id="__jsx-2890188041">main.jsx-2890188041{max-width:680px;margin:0px auto;}header.jsx-2890188041{-webkit-flex:1;-ms-flex:1;flex:1;padding:10px;text-align:center;}div.content.jsx-2890188041{-webkit-flex:1;-ms-flex:1;flex:1;padding:10px;}div.properties.jsx-2890188041{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}dl.jsx-2890188041{display:inline-block;max-width:300px;}dt.jsx-2890188041{font-weight:bold;}dd.jsx-2890188041{display:inline;margin:0;}dd.jsx-2890188041+dd.jsx-2890188041:before{content:", ";}.content.jsx-2890188041{padding:10px;}.content.jsx-2890188041 a.jsx-2890188041{-webkit-text-decoration:underline;text-decoration:underline;}footer.jsx-2890188041{margin-top:20px;padding-top:10px;border-top:2px solid #000;}</style><style id="__jsx-2295160083">.title.jsx-2295160083{text-align:center;margin:0.5em 0;font-size:1.5rem;}</style><style id="__jsx-588964037">.description.jsx-588964037{text-align:center;line-height:1.3rem;font-size:1.3rem;font-weight:300;}.description.jsx-588964037 .daily.jsx-588964037{font-weight:600;}nav.jsx-588964037{width:100%;font-size:0.6em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:10px;}</style><style id="__jsx-2519965637">.block.jsx-2519965637{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.block.jsx-2519965637 .right.jsx-2519965637{padding:10px;}.block.jsx-2519965637 .social.jsx-2519965637{margin-top:10px;}.block.jsx-2519965637 .social.jsx-2519965637 a.jsx-2519965637{padding:10px;}.block.jsx-2519965637 .social.jsx-2519965637 img.jsx-2519965637{height:20px;}</style><style id="__jsx-3469673304">html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}*{box-sizing:border-box;}a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}a:hover,a:active{-webkit-text-decoration:underline;text-decoration:underline;}</style></head><body><div id="__next"><style>
          pre {
            overflow-y: hidden;
            overflow: scroll;
            max-width: 90vw;
          }</style><main class="jsx-2890188041"><header class="jsx-2890188041"><h1 class="jsx-2295160083 title"><a class="jsx-2295160083" href="/">greweb.me</a> / <!-- -->Plot #149 &quot;Chaotic Inner&quot;</h1><nav class="jsx-588964037"><a class="jsx-588964037" href="/plots/148">← previous plot</a><a class="jsx-588964037" href="/plots/150">next plot →</a></nav><div class="jsx-2890188041 properties"><span class="jsx-2890188041"></span><dl class="jsx-2890188041"><dt class="jsx-2890188041">Sourcecode</dt><dd class="jsx-2890188041"><a href="https://github.com/gre/gre/blob/master/plots/examples/149/main.rs" class="jsx-2890188041">149/main.rs</a></dd></dl><dl class="jsx-2890188041"><dt class="jsx-2890188041">Tags</dt><dd class="jsx-2890188041"><a class="jsx-2890188041" href="/plots/tags/perlin">perlin</a></dd><dd class="jsx-2890188041"><a class="jsx-2890188041" href="/plots/tags/parametric">parametric</a></dd></dl><span class="jsx-2890188041"></span></div><img src="/images/plots/149.jpg" width="100%" class="jsx-2890188041"/></header><div class="jsx-2890188041 content"><div class="jsx-2890188041 entry-content"><p>A chaotic experiment of parametric function meeting perlin noise. Brush pen with &#39;Bloody Brexit&#39; ink on Bristol paper.</p>
</div><footer class="jsx-2890188041"><div class="jsx-2519965637 block"><img src="http://greweb.me/profile.jpg" width="100" class="jsx-2519965637"/><div class="jsx-2519965637 right"><div class="jsx-2519965637 description">creative coder experimenting with GLSL shaders, Rust, and fountain pens robot plots. infinite noise explorer.</div><div class="jsx-2519965637 social"><a href="https://twitter.com/greweb" class="jsx-2519965637"><img alt="" src="/icons/twitter.svg" class="jsx-2519965637"/></a><a href="https://instagram.com/greweb" class="jsx-2519965637"><img alt="" src="/icons/instagram.svg" class="jsx-2519965637"/></a><a href="https://github.com/gre" class="jsx-2519965637"><img alt="" src="/icons/github.svg" class="jsx-2519965637"/></a><a href="https://twitch.tv/greweb" class="jsx-2519965637"><img alt="" src="/icons/twitch.svg" class="jsx-2519965637"/></a><a href="https://greweb.itch.io" class="jsx-2519965637"><img alt="" src="/icons/iconmonstr-gamepad-3.svg" class="jsx-2519965637"/></a><a href="https://hic.link/greweb" class="jsx-2519965637"><img alt="" src="/icons/hic.svg" class="jsx-2519965637"/></a></div></div></div></footer></div></main><script>hljs.highlightAll();</script><script async="" src="https://platform.twitter.com/widgets.js" charSet="utf-8" class="jsx-2890188041"></script></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"n":"149","plot":{"n":"149","key":"./149/README.md","rustFile":"149/main.rs","sourceURL":"https://github.com/gre/gre/blob/master/plots/examples/149/main.rs","content":"\u003cp\u003eA chaotic experiment of parametric function meeting perlin noise. Brush pen with \u0026#39;Bloody Brexit\u0026#39; ink on Bristol paper.\u003c/p\u003e\n","data":{"title":"Chaotic Inner","description":"A chaotic experiment of parametric function meeting perlin noise. Brush pen with 'Bloody Brexit' ink on Bristol paper.","thumbnail":"/images/plots/149.jpg","tags":["perlin","parametric"]}},"prev":{"n":"148","key":"./148/README.md","rustFile":"148/main.rs","sourceURL":"https://github.com/gre/gre/blob/master/plots/examples/148/main.rs","content":"","data":{"title":"Orange","thumbnail":"/images/plots/148.jpg","tags":["perlin","parametric"]}},"next":{"n":"150","key":"./150/README.md","rustFile":"150/main.rs","sourceURL":"https://github.com/gre/gre/blob/master/plots/examples/150/main.rs","content":"\u003c!--\n@greweb's #5 plot loop. The 1920p animation is the main digital art. NFT is available in 8 editions, one per frame. First buyer of each edition can collect related frame to acquire the physical art (selected by buy order. PM @greweb, ship anywhere in the world). Secondary market is digital only. plotted on A4 Bristol paper with fountain pen. See greweb.me/plots/150\n--\u003e\n\n\u003cp\u003eHere is \u0026quot;Dancing Planet\u0026quot;, my 5th \u003ca href=\"/plots/tags/plotloop\"\u003e\u003cstrong\u003eplot loop\u003c/strong\u003e\u003c/a\u003e \u003ca href=\"https://greweb.me/2021/05/plot-loops\"\u003e(see article)\u003c/a\u003e. \u003cstrong\u003eThe main digital art is a 1920p video loop of 8 frames available as a \u003ca href=\"https://www.hicetnunc.xyz/objkt/105425\"\u003eTezos hicetnunc NFT\u003c/a\u003e\u003c/strong\u003e. The physical art are the 8 frames, plotted with 2 fountain pens on Bristol A4 paper (250g), and offered when \u003ca href=\"https://www.hicetnunc.xyz/objkt/105425\"\u003ebuying the NFT\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThere are 8 plots available for sale and there will be no other editions of these plot loop frames. They all have the same inital price and the physical piece is selected in order of buy as each frame is relatively similar!\u003c/p\u003e\n\u003cimg src=\"/images/plots/150-plots.jpg\" width=\"100%\"\u003e\n\n\u003cp\u003eThis is a reboot of \u003ca href=\"/plots/148\"\u003eplot#148\u003c/a\u003e but with a big rework of the noise technique using domain warping as well as combination with this famous \u0026#39;rotating dancer\u0026#39; GIF.\u003c/p\u003e\n\u003cp\u003eIt is plotted with two phases, a first pass without a lot of noise and a second pass with more noise divergence:\u003c/p\u003e\n\u003cimg src=\"/images/plots/150-phases.gif\" width=\"100%\"\u003e\n\n\u003cimg src=\"/images/plots/150-zoom1.jpg\" width=\"100%\"\u003e\n\u003cimg src=\"/images/plots/150-zoom2.jpg\" width=\"100%\"\u003e\n\u003cimg src=\"/images/plots/150-zoom3.jpg\" width=\"100%\"\u003e\n\n\u003ch2 id=\"early-prototype-in-pursuit-of-the-good-ink-and-paper\"\u003eEarly prototype, in pursuit of the good ink and paper...\u003c/h2\u003e\n\u003cp\u003eI started with this first prototype of the concept:\u003c/p\u003e\n\u003cimg src=\"/images/plots/150-proto1.jpg\" width=\"100%\"\u003e\n\n\u003cp\u003eIt allowed me to see what I could adjust, for instance: adding more noise, more lines and scaling a bit the dancer.\u003c/p\u003e\n\u003cp\u003eI used ink \u0026#39;Quink\u0026#39; by Parker plotted with a fountain pen on a Canson Bristol 250g paper (A4 format).\u003c/p\u003e\n\u003cp\u003eHere is another prototype I tried: it uses a mix of two colors (dragon red and turquoise). \u003cstrong\u003eI ended up preferring minimalism: black on white. At the end I stayed on my first ink choice but I will revisit this idea.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/plots/150-proto2.jpg\" width=\"57%\"\u003e\u003cimg src=\"/images/plots/150-proto2-zoom.jpg\" width=\"42.8%\"\u003e\u003c/p\u003e\n\u003ch2 id=\"process-to-find-the-final-plot\"\u003eProcess to find the final plot\u003c/h2\u003e\n\u003cp\u003eTo search for the good parameters I\u0026#39;ve used a generator script with bash for loops. It kinda looked like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sh\"\u003efor a in 0.5 1 2 4; do\nfor b in 0.5 1 2 4; do\nfor c in 0.5 1 2 4; do\nfor d in 0.5 1 2 4; do\n  sh $P/gen.sh --a $a --b $b --c $c --d $d\n  cp ./results/out.gif out/${a}_${b}_${c}_${d}.gif\ndone\ndone\ndone\ndone\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen I kept refining my \u0026quot;range\u0026quot; by fail and retry. It is quite slow to generate them so it\u0026#39;s a long process.\u003c/p\u003e\n\u003cp\u003eWhen I was satisfied by the parameters, I then switch to a second selection: the selection of the seed! because my noise have seed and can generate very different kind of noises, I put it against my \u0026quot;elector\u0026quot; homemade tool as explained on \u003ca href=\"/plots/143\"\u003eplot#143\u003c/a\u003e.\u003c/p\u003e\n\u003cimg src=\"/images/plots/150-selection.png\" width=\"100%\"\u003e\n\n\u003ch2 id=\"some-highlight-of-the-rustlang-code\"\u003eSome highlight of the Rustlang code\u003c/h2\u003e\n\u003cp\u003eThere is nothing really \u0026quot;new\u0026quot; from my previous plots, especially all the parametric plot when I started this \u0026quot;growing parametric\u0026quot; exploration between \u003ca href=\"/plots/114\"\u003eplot#114\u003c/a\u003e and \u003ca href=\"/plots/148\"\u003eplot#148\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eWhat is new here however is the use of a GIF as an input. It\u0026#39;s very easy to do: my script takes basically an loop percentage which I can transpose to looking up a frame in the rotating dancer loop. I can then use this function I\u0026#39;ve just added to my utilities:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-rust\"\u003euse image::AnimationDecoder;\nuse image::RgbaImage;\nuse image::gif::GifDecoder;\nuse image::io::Reader as ImageReader;\n\npub fn image_gif_get_color(\n    path: \u0026amp;str,\n    index: usize\n) -\u0026gt; Result\u0026lt;\n    impl Fn((f64, f64)) -\u0026gt; (f64, f64, f64),\n    image::ImageError,\n\u0026gt; {\n    let file_in = File::open(path)?;\n    let decoder = GifDecoder::new(file_in).unwrap();\n    let frames = decoder.into_frames();\n    let frames = frames.collect_frames()?;\n    let img = frames.get(index % frames.len()).unwrap();\n    let buffer = img.buffer();\n    return Ok(dynamic_image_get_color(buffer.clone()));\n}\n\npub fn dynamic_image_get_color(\n    img: RgbaImage\n) -\u0026gt; impl Fn((f64, f64)) -\u0026gt; (f64, f64, f64) {\n    let (width, height) = img.dimensions();\n    return move |(x, y): (f64, f64)| {\n        let xi = (x.max(0.0).min(1.0)\n            * ((width - 1) as f64)) as u32;\n        let yi = (y.max(0.0).min(1.0)\n            * ((height - 1) as f64))\n            as u32;\n        let pixel = img.get_pixel(xi, yi);\n        let r = (pixel[0] as f64) / 255.0;\n        let g = (pixel[1] as f64) / 255.0;\n        let b = (pixel[2] as f64) / 255.0;\n        return (r, g, b);\n    };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRust really shines in having great library, this is just the classical \u0026quot;image\u0026quot; package here.\u003c/p\u003e\n\u003cp\u003eApart from this, the Rust code (you can see main.rs link on top of this page) is pretty straightforward. There is just a lot of work in the parametric function which starts to be quite big:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-rust\"\u003elet parametric = |p: f64| {\n    let p1 = (splits * p).floor();\n    let p2 = splits * p - p1;\n    let t = (p1 + split_threshold * p2) / splits;\n    let mut t2 = (p1\n        + split_threshold * p2.powf(pow))\n        / splits;\n    let initial = 1. / spins;\n    t2 =\n        (t2 - initial).max(0.) / (1. - initial);\n    let scale = 1.0\n        - t2 * (1.0\n            - i as f64 * opts.size_diff / size);\n    let s = spins;\n    let mut p = (\n        scale\n            * amp1\n            * ((s * 2. * PI * t).sin()\n                + amp2\n                    * mix(\n                        (s * f1.1 * PI * t).sin(),\n                        (s * f2.1 * PI * t).sin(),\n                        t,\n                    )),\n        0.07\n        - scale\n            * amp1\n            * ((s * 2. * PI * t).cos()\n                + amp2\n                    * mix(\n                        (s * f1.0 * PI * t).cos(),\n                        (s * f2.0 * PI * t).cos(),\n                        t,\n                    )),\n    );\n    let noise_angle = p.1.atan2(p.0);\n    let noise_amp = 0.003 * perlin.get([\n            opts.a * (progress * PI).sin() +\n            4.8 * p.0 + perlin.get([\n                7.8 * p.0,\n                4.2 * p.1 + opts.b * (progress * PI).sin(),\n                40. + opts.seed\n            ]),\n            4.8 * p.1 + 0.8 * perlin.get([\n                4.5 * p.0 + opts.c * ((1. - progress) * PI).sin(),\n                6.8 * p.1 + perlin.get([\n                    20.5 * p.0 + opts.d * (2. * PI * progress).cos(),\n                    20.8 * p.1,\n                    200. + opts.seed,\n                ]),\n                20. + opts.seed,\n            ]),\n            100. + opts.seed + i as f64 * opts.seed_diff,\n        ]) +\n        0.03 * (1. - t) * perlin.get([\n            0.7 * p.0 + perlin.get([\n                2.9 * p.0 + opts.e * (2. * PI * progress).cos(),\n                1.7 * p.1,\n                2000.0\n            ]),\n            0.7 * p.1 + perlin.get([\n                3.1 * p.0,\n                2.5 * p.1 + opts.e * (2. * PI * progress).sin(),\n                2100.0\n            ]),\n            1000.,\n        ]);\n\n    p.0 += noise_amp * noise_angle.cos();\n    p.1 += noise_amp * noise_angle.sin();\n    p\n};\n\u003c/code\u003e\u003c/pre\u003e\n","data":{"title":"Dancing Planet","thumbnail":"/images/plots/150.gif","description":"8 frames plotted making an animated loop. A 1920p video and A4 physical art is available as an NFT.","tags":["field","perlin","plotloop"],"objkts":[105425]}}},"__N_SSG":true},"page":"/plots/[n]","query":{"n":"149"},"buildId":"DFS_PwF7c_29U8d0kq5L9","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>
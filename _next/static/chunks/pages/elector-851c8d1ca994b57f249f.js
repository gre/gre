(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{1532:function(e,n,t){"use strict";t.d(n,{W:function(){return l}});var r=t(5893),i=t(5988);t(7294);function l({children:e}){return(0,r.jsxs)("div",{className:"jsx-3621368397 container",children:[e,(0,r.jsx)(i.default,{id:"3621368397",children:[".container.jsx-3621368397{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}},4276:function(e,n,t){"use strict";t.d(n,{x:function(){return l},M:function(){return c}});var r=t(5893),i=t(5988);t(7294);function l({children:e}){return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(i.default,{id:"3469673304",children:["html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}","*{box-sizing:border-box;}","a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}","a:hover,a:active{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})}function c({children:e}){return(0,r.jsxs)(l,{children:[e,(0,r.jsx)(i.default,{id:"2550269578",children:["body{background:#000;color:#fff;}"]})]})}},8206:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(5893),i=t(7294),l=t(9008),c=t(1532),o=t(4276);const s="/candidates/{index}.gif",a=Array(76).fill(null).map(((e,n)=>n));function d(){const e="elector_"+s,n=(0,i.useMemo)((()=>{try{const n=localStorage[e];if(n){const e=JSON.parse(n);if(e.length===a.length)return e}}catch(n){console.error(n)}}),[]),{0:t,1:d}=(0,i.useState)(n||a.map((()=>null))),{0:u,1:f}=(0,i.useState)((()=>m())),{0:x,1:h}=(0,i.useState)((()=>Array(4).fill(0)));function m(){const e=t.map(((e,n)=>[e,n])).filter((e=>null===e[0])).map((e=>e[1])).sort((()=>Math.random()-.5));console.log("unsorted",e);let n=0;if(0===e.length){const e=t.map(((e,n)=>[e,n])).sort(((e,n)=>n[0]-e[0]));let r=e[0][0],i=0;for(let t=0;t<e.length;t++){const l=e[t][0];if(l===r?i++:(i=0,r=l),i>=3){n=r;break}}}return e.concat(a.filter((e=>(t[e]||0)>=n)).sort(((e,r)=>1.1*(Math.random()-.5)+(Number((t[e]||0)>=n)-Number((t[r]||0)>=n))))).slice(0,4)}(0,i.useEffect)((()=>{n&&d(n)}),[n]),(0,i.useEffect)((()=>{localStorage[e]=JSON.stringify(t)}),[e,t]);return(0,r.jsx)(o.x,{children:(0,r.jsxs)(c.W,{children:[(0,r.jsxs)(l.default,{children:[(0,r.jsx)("title",{withBreadcrumb:!0,children:"Elector"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:20},children:u.map(((e,n)=>{var i;return(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{width:"100%",src:s.replace("{index}",e)}),(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsxs)("strong",{children:["#",e," (",null!==(i=t[e])&&void 0!==i?i:"?",")"]}),["+1","0","-1"].map(((e,t)=>(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{onChange:()=>{h((e=>e.map(((e,r)=>r===n?1-t:e))))},checked:x[n]===1-t,type:"radio",name:n})," ",e]},t)))]})]},e)}))}),(0,r.jsx)("button",{onClick:()=>{d((e=>e.map(((e,n)=>{const t=u.findIndex((e=>e===n));return-1===t?e:e+x[t]})))),h(Array(4).fill(0)),setTimeout((()=>f(m())),50)},children:"NEXT"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"scoreboard"}),(0,r.jsx)("ul",{children:t.map(((e,n)=>[e,n])).filter((e=>null!==e[0])).sort(((e,n)=>n[0]-e[0])).map((([e,n])=>(0,r.jsxs)("li",{children:["#",n,": ",String(e)]},n)))})]})]})})}},9086:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/elector",function(){return t(8206)}])},9008:function(e,n,t){e.exports=t(639)}},function(e){e.O(0,[774,988,888,179],(function(){return n=9086,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
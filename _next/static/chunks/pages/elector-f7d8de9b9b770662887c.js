(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8342],{1532:function(e,n,t){"use strict";t.d(n,{W:function(){return o}});var r=t(5988),i=(t(7294),t(5893));function o({children:e}){return(0,i.jsxs)("div",{className:"jsx-3621368397 container",children:[e,(0,i.jsx)(r.default,{id:"3621368397",children:[".container.jsx-3621368397{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}},4276:function(e,n,t){"use strict";t.d(n,{x:function(){return c},M:function(){return l}});var r=t(5988),i=(t(7294),t(6189)),o=t(5893);function c({children:e}){return(0,o.jsxs)(i.Z,{children:[e,(0,o.jsx)(r.default,{id:"3469673304",children:["html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}","*{box-sizing:border-box;}","a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}","a:hover,a:active{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})}function l({children:e}){return(0,o.jsxs)(c,{children:[e,(0,o.jsx)(r.default,{id:"2550269578",children:["body{background:#000;color:#fff;}"]})]})}},8206:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(7294),i=t(9008),o=t(1532),c=t(4276),l=t(5893);const s="/candidates/{index}.gif",a=Array(76).fill(null).map(((e,n)=>n));function d(){const e="elector_"+s,n=(0,r.useMemo)((()=>{try{const n=localStorage[e];if(n){const e=JSON.parse(n);if(e.length===a.length)return e}}catch(n){console.error(n)}}),[]),{0:t,1:d}=(0,r.useState)(n||a.map((()=>null))),{0:u,1:f}=(0,r.useState)((()=>x())),{0:p,1:h}=(0,r.useState)((()=>Array(4).fill(0)));function x(){const e=t.map(((e,n)=>[e,n])).filter((e=>null===e[0])).map((e=>e[1])).sort((()=>Math.random()-.5));console.log("unsorted",e);let n=0;if(0===e.length){const e=t.map(((e,n)=>[e,n])).sort(((e,n)=>n[0]-e[0]));let r=e[0][0],i=0;for(let t=0;t<e.length;t++){const o=e[t][0];if(o===r?i++:(i=0,r=o),i>=3){n=r;break}}}return e.concat(a.filter((e=>(t[e]||0)>=n)).sort(((e,r)=>1.1*(Math.random()-.5)+(Number((t[e]||0)>=n)-Number((t[r]||0)>=n))))).slice(0,4)}(0,r.useEffect)((()=>{n&&d(n)}),[n]),(0,r.useEffect)((()=>{localStorage[e]=JSON.stringify(t)}),[e,t]);return(0,l.jsx)(c.x,{children:(0,l.jsxs)(o.W,{children:[(0,l.jsxs)(i.default,{children:[(0,l.jsx)("title",{withBreadcrumb:!0,children:"Elector"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",marginBottom:20},children:u.map(((e,n)=>{var r;return(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{width:"100%",src:s.replace("{index}",e)}),(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsxs)("strong",{children:["#",e," (",null!==(r=t[e])&&void 0!==r?r:"?",")"]}),["+1","0","-1"].map(((e,t)=>(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{onChange:()=>{h((e=>e.map(((e,r)=>r===n?1-t:e))))},checked:p[n]===1-t,type:"radio",name:n})," ",e]},t)))]})]},e)}))}),(0,l.jsx)("button",{onClick:()=>{d((e=>e.map(((e,n)=>{const t=u.findIndex((e=>e===n));return-1===t?e:e+p[t]})))),h(Array(4).fill(0)),setTimeout((()=>f(x())),50)},children:"NEXT"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"scoreboard"}),(0,l.jsx)("ul",{children:t.map(((e,n)=>[e,n])).filter((e=>null!==e[0])).sort(((e,n)=>n[0]-e[0])).map((([e,n])=>(0,l.jsxs)("li",{children:["#",n,": ",String(e)]},n)))})]})]})})}},9086:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/elector",function(){return t(8206)}])},9008:function(e,n,t){e.exports=t(639)},6189:function(e,n,t){"use strict";var r,i=t(6042),o=(r=i)&&r.__esModule?r:{default:r};var c=function(e){var n,t=e.disabled,r=e.children;return t||"undefined"===typeof window||!window.location||"http:"!==window.location.protocol||("localhost"===(n=window.location.hostname)||"[::1]"===n||n.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))?r:(window.location.href=window.location.href.replace(/^http(?!s)/,"https"),null)};c.propTypes={children:o.default.node,disabled:o.default.bool},n.Z=c},6747:function(e,n,t){"use strict";var r=t(6438);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,c){if(c!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},6042:function(e,n,t){e.exports=t(6747)()},6438:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[9774,5988,2888,179],(function(){return n=9086,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
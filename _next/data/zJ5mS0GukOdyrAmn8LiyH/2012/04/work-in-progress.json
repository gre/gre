{"pageProps":{"id":"2012-04-26-work-in-progress","year":"2012","month":"04","day":"26","slug":"work-in-progress","content":"<p><strong>Did you know browsers now have a built-in HTML tag for making progress bar?</strong></p>\n<p><progress style=\"width: 50%\">(progress is not supported)</progress></p>\n<p>How cool is that!</p>\n<p>It is perfect for making web applications loading bar in just one line of HTML and a few Javascript code.</p>\n<p>A progress tag will be displayed on recent browsers with a OS-native progress bar representing a loading. Like many HTML tag, if it is not supported, it fallbacks nicely by displaying its inner content. This fallback content should either be your own designed progress bar or simply display a percentage.</p>\n<p>It is today supported by Firefox 9 , Chrome, Opera and IE10.</p>\n<!--more-->\n\n<h2 id=\"example\">Example</h2>\n<pre><code class=\"language-html\">&lt;progress value=&quot;23&quot; max=&quot;100&quot;&gt;23 %&lt;/progress&gt;\n</code></pre>\n<h3 id=\"on-your-browser\">On your browser:</h3>\n<p><progress value=\"23\" max=\"100\">23 %</progress></p>\n<h3 id=\"on-linux--firefox-with-gnome\">On Linux / Firefox (with GNOME)</h3>\n<p><img src=\"/images/2012/04/progress.png\" alt=\"\"></p>\n<h3 id=\"on-mac-os--chrome\">On Mac OS / Chrome:</h3>\n<p><img src=\"/images/2012/04/progress_mac.png\" alt=\"\"></p>\n<h3 id=\"on-ie-6\">On IE 6:</h3>\n<p><img src=\"/images/2012/04/progress_ie.png\" alt=\"\"></p>\n<h2 id=\"lets-see-some-cases\">Let’s see some cases:</h2>\n<h3 id=\"waiting\">waiting</h3>\n<p><progress max=\"1000\"></progress></p>\n<pre><code class=\"language-html\">&lt;progress max=&quot;1000&quot;&gt;&lt;/progress&gt;\n</code></pre>\n<h3 id=\"starting\">starting</h3>\n<p><progress value=\"0\" max=\"1000\"></progress></p>\n<pre><code class=\"language-html\">&lt;progress value=&quot;0&quot; max=&quot;1000&quot;&gt;&lt;/progress&gt;\n</code></pre>\n<h3 id=\"in-progress\">in progress:</h3>\n<p><progress value=\"500\" max=\"1000\"></progress></p>\n<pre><code class=\"language-html\">&lt;progress value=&quot;500&quot; max=&quot;1000&quot;&gt;&lt;/progress&gt;\n</code></pre>\n<h3 id=\"finished\">finished:</h3>\n<p><progress value=\"1000\" max=\"1000\"></progress></p>\n<pre><code class=\"language-html\">&lt;progress value=&quot;1000&quot; max=&quot;1000&quot;&gt;&lt;/progress&gt;\n</code></pre>\n<h2 id=\"making-a-download-bar\">Making a download bar</h2>\n<p>When you need to load big resource like images, videos, or 3D materials, you usually want to display the progress of the download.<br>You could still do it using some divs and CSS Javascript, but this is now much simpler to use a :</p>\n<h3 id=\"one-line-of-html\">One line of HTML:</h3>\n<pre><code class=\"language-html\">&lt;progress id=&quot;download&quot;&gt;&lt;/progress&gt;\n</code></pre>\n<h3 id=\"and-the-javascript\">And the Javascript:</h3>\n<p>(for more convenience, we are using jQuery)</p>\n<pre><code class=\"language-javascript\">var totalBytes = 10000000; // CHANGE ME WITH THE SIZE OF THE RESOURCE\nvar req = new XMLHttpRequest();\nvar progress = $(&#39;#download&#39;);\nprogress.attr(&quot;max&quot;, totalBytes);\nreq.addEventListener(&quot;progress&quot;, function (e) {\n  progress.attr(&quot;value&quot;, e.loaded).text(Math.floor(100*e.loaded/totalBytes) &quot; %&quot;);\n}, false);  \nreq.addEventListener(&quot;load&quot;, function (e) {\n  // THE RESOURCE IS LOADED\n  progress.replaceWith(&quot;Downloaded!&quot;);\n});\nreq.open(&quot;GET&quot;,&quot;resource.dat&quot;,true);\nreq.send();\n</code></pre>\n<p>It is quite easy to extend my code to support multiple files to download.</p>\n<p>It is also easy to use this progress bar for anything else, but remember it represents a progress. If you want to represent some kind of stats, refer to the dedicated tag.</p>\n","data":{"title":"Work in <progress />","description":"A progress tag will be displayed on recent browsers with a OS-native progress bar representing a loading.","thumbnail":"/images/2012/04/progress_mac.png","author":"Gaetan","layout":"post","permalink":"/2012/04/work-in-progress/","tags":["html","javascript"]}},"__N_SSG":true}
{"pageProps":{"id":"2022-02-23-shattered","year":"2022","month":"02","day":"23","slug":"shattered","content":"<img width=\"50%\" src=\"/images/2022/shattered/thumbnail.jpg\" style=\"float: right\">\n\n<p>&quot;Shattered&quot; is a new generative and plottable art that will be released the February 23rd, 2022 (6PM Paris time) on the emerging platform <a href=\"https://plottables.io/\">https://plottables.io/</a>.</p>\n<blockquote>\n<p>Shattered [adj] – broken into many small pieces.</p>\n<p>This plottable NFT generator visualizes the explosion of polygons (e.g. squares) into pieces then rendered using different filling techniques and suggested inks. There are various rare cases to discovery, like the shape, filling method, alignments,...</p>\n<p>The plots are designed to be plotted with fountain pens and on A4 paper, but the plotter artist is free to do any interpretation they want, chose different colors, different paper techniques, the possibilities are endless! Depending on your configuration, the plot can take between 15 minutes to a few hours to execute.</p>\n<p>@greweb can ship plotted editions to NFT owners with a small extra cost via <a href=\"https://greweb.me/plots/nft\">https://greweb.me/plots/nft</a></p>\n</blockquote>\n<!--\nMore information can be found on the release article https://greweb.me/2022/02/shattered\n-->\n\n<h2 id=\"physically-plottable\">Physically plottable?</h2>\n<p><video loop autoplay controls src=\"/images/2022/shattered/video.mp4\" width=\"100%\"></video></p>\n<p>Like in <a href=\"https://greweb.me/2021/11/plottable-storm\">my previous article</a>, the generator produces &quot;Plottable NFTs&quot;.</p>\n<p>A Plottable NFT is, like regular art NFT, a token to a digital artwork that can be sold and resold on a second market – blockchain guarantees its unicity.</p>\n<p>The <strong>Plottable</strong> NFT also gives a privilege to its owner: making or requesting a physical plot (with an artistic fee to cover costs, <a href=\"https://greweb.me/plots/nft\">see /plots/nft</a>). As a physical work can be executed multiple times, every physical piece remain unique: plotting is an analog process that will inevitably yield different results.</p>\n<img width=\"100%\" src=\"/images/2021/11/plottablestorm/schema.png\">\n\n<p><a href=\"https://greweb.me/plots/nft\">https://greweb.me/plots/nft</a> sets my own &quot;plotting services&quot; terms but any other plotter artist is welcome to collaborate and contribute to offering to the community their own services under their terms and interpretation of the art – I would just ask to verify that the requester owns the NFT.</p>\n<img width=\"100%\" src=\"/images/plots-promo/letters.jpeg\">\n\n<blockquote>\n<p>You can also be your own artist, buy a plotter, try it out! This is all designed to be open-source friendly and you can download the SVG yourself!</p>\n</blockquote>\n<h3 id=\"prototype-prototype-prototype\">Prototype, prototype, prototype</h3>\n<p>Many prototypes have been physically plotted in order to guarantee the viability of results: plottable often is a challenge when it comes to pen and paper. The density is very challenging to adjust: not enough lines and you miss the opportunity for great ink effects and saturation. Try with too much lines and your paper is melting.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/prototypes.jpg\">\n\n<p>These prototypes helped to adjust the density and tweak the algorithms over the weeks of development.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/prototype1.jpg\">\n<img width=\"100%\" src=\"/images/2022/shattered/prototype3.jpg\">\n<img width=\"50%\" src=\"/images/2022/shattered/prototype2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/prototype5.jpg\">\n<img width=\"100%\" src=\"/images/2022/shattered/prototype4.jpg\">\n\n<h2 id=\"how-does-the-generator-work\">How does the generator work</h2>\n<p>The generator works in a few steps:</p>\n<ul>\n<li>Step 1 implements <strong>the shattering</strong> and outputs polygons.</li>\n<li>Step 2 implements <strong>the filling</strong>: the polygons are filled with various techniques and colors.</li>\n<li>Step 3 implements <strong>post-processing effects</strong>. Not only a SVG is generated, but it is also used in a WebGL shaders texture to simulate ink and paper effects.</li>\n</ul>\n<h2 id=\"step-1-the-shattering\">Step 1: the shattering</h2>\n<p>The &quot;shattering&quot; is implemented with a recursive function that, given a polygon, randomly cut it in half and apply the same recursion on each part. The cut happens in many different ways. For instance, there is a chance for the &quot;cut&quot; to be aligned with the polygon. The recursion can also randomly stop, which can sometimes keep great parts intact. There is even a very small chance (~0.3%) to not obtain a cut at all and have the original polygon preserved. Parts are usually split near their center and the 2 parts that result from the cut can diverge from each other – this simulates some kind of &quot;pushback&quot; resulting of the shattering.</p>\n<h3 id=\"shape-feature\">&#39;Shape&#39; feature</h3>\n<p>The main polygon used before the shattering occurs can vary from a square to a circle, with rare cases of triangles, hexagons,...</p>\n<p>Square remains the most common shape to have.</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/shape-square.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/shape-circle.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/shape-hexagon.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/shape-pentagon.jpg\"></p>\n<h3 id=\"parts-feature\">&#39;Parts&#39; feature</h3>\n<p>This feature categorizes the number of polygon parts that result from the shattering. It can vary from one to thousands.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/variety3.jpg\">\n\n<h3 id=\"pushback-feature\">&#39;Pushback&#39; feature</h3>\n<p>This feature expresses how intense the Pushback is for a given piece – effect that shifts parts away from each other.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/pushback-high.jpg\">\n\n<p>It can sometimes not exist at all which make the polygon preserving its general shape and only showing subdivisions:</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/pushback-none.jpg\">\n\n<h3 id=\"alignment-feature\">&#39;Alignment&#39; feature</h3>\n<p>The alignment represents how perpendicular the parts are organized altogether.</p>\n<p>This has no alignment:</p>\n<img width=\"50%\" src=\"/images/2022/shattered/examples/alignment-none.jpg\">\n\n<p>These have the max alignment:</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/alignment-max.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/alignment-max-2.jpg\"></p>\n<h3 id=\"destructed-feature\">&#39;Destructed&#39; feature</h3>\n<p>&#39;Destructed&#39; is a rare feature that expresses that part of the polygons has been destructed. This sometimes happens when the shattered parts are pushbacked out of boundaries.</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/destructed-1.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/destructed-2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/destructed-3.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/destructed-4.jpg\"></p>\n<h3 id=\"distribution-feature\">&#39;Distribution&#39; feature</h3>\n<p>&#39;Distribution&#39; feature expresses the area balance between parts. Here are some examples:</p>\n<p><strong>&quot;One Major&quot;</strong> (2 examples side by side)</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-onemajor-2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-onemajor.jpg\"></p>\n<p><strong>&quot;Two Main&quot;</strong> (2 examples side by side)</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-twomainparts-2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-twomainparts.jpg\"></p>\n<p><strong>&quot;Small Parts&quot;</strong> (2 examples side by side)</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-small-parts-2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/distribution-small-parts-3.jpg\"></p>\n<h2 id=\"step-2-the-filling\">Step 2: the filling</h2>\n<p>each polygon resulting from the shattering is individually filled with various techniques. That said, the shattering algorithm has already decided how each polygon is colored and filled. There is a higher chance that related parts have same fill and color, but it can still happen that one has many different filling techniques on the same piece:</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/variety.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/variety2.jpg\"></p>\n<p>These are statistically the TOP 10 filling technique combination to most likely occur:</p>\n<pre><code>Statistics of feature &#39;Fill&#39;:\n                   Web, Spiral: 6.0%\n                           Web: 5.7%\n                Web, Ping Pong: 3.3%\n                   Spiral, Web: 3.3%\n                     Ping Pong: 3.1%\n                     Scratches: 2.8%\n                         Hatch: 2.5%\n          Ping Pong, Scratches: 2.3%\n                     Stippling: 2.3%\n            Web, Spiral, Empty: 2.2%\n</code></pre>\n<p>The 66% remaining is going to many different combinations of one of the 8 different filling technique that can occur: <strong>Empty, Spiral, Web, Ping Pong, Scratches, Hatch, Stippling, Zigzag</strong> which I&#39;m going to detail now:</p>\n<h3 id=\"fill--empty\">Fill = Empty</h3>\n<p>There is a first, rare filling technique that consists of NOT filling! but simply stroking the polygon. It is mostly used on small polygons and used in combination with another filling technique.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/fill-empty.jpg\">\n\n<h3 id=\"fill--spiral\">Fill = Spiral</h3>\n<p>Spiral is the most complex algorithm of the generator and can take up to a few seconds to run in JavaScript. It works by connecting randomly sampled dots by rotating the lines, each iteration scans for a point making the smallest angle turn, this creates a spiral that statistically converge to the center.</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-spiral.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-spiral-3.jpg\"></p>\n<p>Due to the complexity of the algorithm, I have chosen to bail out some cases to fallback to &quot;Web&quot; filling technique which is why you most likely never get a &quot;Spiral only&quot; filling (it can still happen ~0.4%).</p>\n<h3 id=\"fill--web\">Fill = Web</h3>\n<p>The web is, after spiral, the second most popular filling technique to happen but is the most likely technique to happen as &quot;standalone&quot; (without combination with another filling technique)</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-web.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-web-3.jpg\"></p>\n<p>One of the easter eggs of this Fill technique is that it will sometimes also have circles hole that the algorithm will try to avoid:</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/fill-web-2.jpg\">\n\n<p>The algorithm samples a bunch of points along the polygon edge and connects dots randomly. The dots are connected with lines that maximize avoiding the circles and &quot;traversing&quot; the polygon rather than connecting lines that would be along an edge. Points are also samples randomly away from the polygon edge in order to avoid too much paper density problem – it creates an interesting border width effect.</p>\n<h3 id=\"fill--ping-pong\">Fill = Ping Pong</h3>\n<p>Ping Pong filling is the idea to throw a ray that bounces on the polygon edge.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/fill-pingpong.jpg\">\n\n<p>The basic idea is to sample points along the polygon perimeter and then to do a permutation of indexes that can for instance looks like this: <strong>0, 100, 200, 1, 101, 201, 2, 102, 202,...*</strong>.</p>\n<p>Many optimizations were done on this to make the plot viable. Each line is traced by counting how much lines traversed at a given position and will stop as soon as it&#39;s too &quot;crowded&quot;.</p>\n<p>We can notice the algorithm at work on the previous example as we see some &quot;gaps&quot; near the intersection of some lines, but in practice, a plot will be generally fine as the ink will &quot;bleed&quot; a bit and fill these gaps.</p>\n<h3 id=\"fill--hatch\">Fill = Hatch</h3>\n<p>the hatching technique traces parallel lines with a varying distance to produces a fabric pattern. The lines are chosen in a way that they are aligned to the longest segment that can exists inside the polygon.</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-hatch.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-hatching-3.jpg\"></p>\n<h3 id=\"fill--stippling\">Fill = Stippling</h3>\n<p>the stippling technique is implemented with many samples points from which a small line stroke is done. The line stroke segment, which is one millimeter long, is oriented following a simple field determined with the center of the polygon: <code>atan2(cx - p[0], cy - p[1])</code></p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-stippling.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-stippling-2.jpg\"></p>\n<h3 id=\"fill--scratches\">Fill = Scratches</h3>\n<img width=\"100%\" src=\"/images/2022/shattered/examples/fill-scratches.jpg\">\n\n<p>Scratches are sorting randomly samples points on two perpendicular axis that follow the general polygon direction.</p>\n<h3 id=\"fill--zigzag\">Fill = Zigzag</h3>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-zigzag.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/fill-zigzag-2.jpg\"></p>\n<p>Zigzag has a similar idea as in Scratches except it only traces line on one axis and will only sample points on the edge.</p>\n<h2 id=\"step-3-post-processed-effects\">Step 3: post-processed effects</h2>\n<p>To give more life to the digital shape, I have added some paper grain effects as well as a lighting effect that grows from the center.</p>\n<p>It is important to note that I actually generate 2 SVGs:</p>\n<ul>\n<li>one dedicated for the WebGL shaders where I use #0FF, #F0F, #FF0 colors and addition mode to be able to tell what even ink there is at a position. It allows me to implement some sort of ink simulation (those which remains minimal, but using opacity to express the saturation of an ink and each color defines 2 colors on each it derives too – for instance the yellow of Diamine Amber is diverging to orange tones)</li>\n<li>a second SVG is the downloadable SVG that tries to approach as much as possible the ink color and have layers ready for the plotter. Note that you can directly drag&amp;drop (or right-click) from the digital canvas itself (thanks to a hidden <code>&lt;img&gt;</code> in the DOM)</li>\n</ul>\n<h2 id=\"palette\">Palette</h2>\n<p>The art pieces are picking colors among a palette of 9 curated inks from Diamine that looks like this:</p>\n<img width=\"100%\" src=\"/images/2022/shattered/inks.jpg\">\n\n<p>They are sorted from common to relatively rarer cases.</p>\n<ul>\n<li>Black</li>\n<li>Poppy Red</li>\n<li>Turquoise</li>\n<li>Amazing Amethyst</li>\n<li>Indigo</li>\n<li>Hope Pink</li>\n<li>Amber</li>\n<li>Pumpkin</li>\n<li>Aurora Borealis</li>\n</ul>\n<p>The most common case is to obtain a plot that will only have one ink chosen, but the plot can go up to having 3 different colors. They are split into different layers.</p>\n<p><img width=\"50%\" src=\"/images/2022/shattered/examples/colors-2.jpg\"><img width=\"50%\" src=\"/images/2022/shattered/examples/colors-3.jpg\"></p>\n<h2 id=\"artistic-challenges-and-choices\">Artistic challenges and choices</h2>\n<p>To wrap up, it took me quite a lot of iterations to reach decision on many aspects and tweak what would be my final pieces. In generative art and especially when you reach a high variety of results it is really hard to guarantee one given output is satisfying. This is especially true in my case that involve many level of recursion which makes it very hard to control the outcome. The wider your generation is, more likely you will get non interesting results or edge cases you do not prefer to happen. The boundaries of the generation have to be well controlled in order to avoid the &quot;bad cases&quot;.</p>\n<p><strong>Total rewrite of my tech stack</strong>. Technically speaking, this generator was a total rework of my stack, which is in Rust, back into pure JavaScript. As the code is on-chain, it needs to be very well optimized in term of bytes and I used many techniques from back of my JS1K / JS13K days! I compressed my GLSL shader code as well as the JavaScript code, I use only tuples (arrays) to represent my data so they do not have the verbosity of JS objects, etc...</p>\n<p><strong>curating away the bad cases</strong>. The way I generally approached the curation in my generator is to curate away the cases I didn&#39;t want rather than explicitly curating the cases I want! Typically, one algorithm will control the quality of the output and will be retrying the result until it satisfies the criterias. One example is I have to exclude any &quot;empty result&quot; to happen. I also explicitely wanted to bail out a result containing only one cut (2 polygons).</p>\n<p><strong>Brace for impact</strong>. embracing collisions and allowing some shapes to intersect was part of the &quot;glitch&quot; I wanted to keep. It can be interesting to have a mix of inks that occur on these intersections. This is a rare effect.</p>\n<p><strong>recursion depth</strong>. It took me quite a lot of shattering iteration to decide on the maximum number of recursion I would do as well as it&#39;s rarity. At the end, I&#39;ve chose to make the &quot;low number of parts&quot; rarer than having a very exploded shattered case, because it emphasis on what the piece is about. Pieces that are intacted or only cut in a few parts are still very interesting to have and should actually be quite scarced.</p>\n<p><strong>shapes rarity &amp; filling consistency</strong>. The way the shape are filled are not always decided randomly and many logic bail out from cases I didn&#39;t want.</p>\n<img width=\"100%\" src=\"/images/2022/shattered/thumbnail.jpg\">\n","data":{"title":"Shattered, a plottable generator on plottables.io","thumbnail":"/images/2022/shattered/thumbnail.jpg","description":"Shattered is a NFT plottable generator that visualizes the explosion of polygons (usually squares) into parts that are rendered with different filling techniques and suggested inks. There are various rarity elements, like the shape, filling method, inks...","tags":["NFT","plottable"]}},"__N_SSG":true}